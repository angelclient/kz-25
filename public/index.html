<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="theme-color" content="#0f172a">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">

  <title>Mini Messenger v2</title>
  <link rel="stylesheet" href="./style.css" />
</head>
<body>

  <!-- Mobile menu button -->
  <button id="menuBtn" class="menu-btn">‚ò∞</button>

  <div class="app">
    <!-- SIDEBAR -->
    <aside class="sidebar panel">
      <!-- Profile (visible after login) -->
      <div id="profilePane" class="profile-pane hidden">
        <div class="prof-top">
          <img id="profileAva" class="ava" alt="avatar" />
          <div>
            <div class="hello" id="helloText">üëã –ü—Ä–∏–≤—ñ—Ç!</div>
            <div class="muted" id="helloMail"></div>
          </div>
        </div>

        <div class="upload-ava">
          <input id="avaFile" type="file" accept="image/*" hidden />
          <button id="avaBtn" class="btn">–ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –∞–≤—É</button>
        </div>

        <div class="side-actions">
          <button class="btn" id="exportBtn">–ï–∫—Å–ø–æ—Ä—Ç —á–∞—Ç—É</button>
          <button class="btn danger" id="clearLocalBtn">–û—á–∏—Å—Ç–∏—Ç–∏ –ª–æ–∫–∞–ª—å–Ω–µ</button>
          <button class="btn outline" id="signOutBtn">–í–∏–π—Ç–∏</button>
        </div>
      </div>

      <!-- Auth (before login) -->
      <div id="authPane" class="auth-pane">
        <div class="side-top">
          <div class="logo">MM</div>
          <div>
            <div class="title">Mini Messenger</div>
            <div class="chip">Firebase Auth + Firestore</div>
          </div>
        </div>

        <div class="auth-block">
          <div class="auth-row">
            <input id="email" type="email" placeholder="Email" />
            <input id="password" type="password" placeholder="–ü–∞—Ä–æ–ª—å" />
          </div>
          <div class="auth-actions">
            <button id="emailSignup" class="btn">–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è</button>
            <button id="emailLogin" class="btn primary">–í—Ö—ñ–¥</button>
          </div>

          <div class="auth-divider"><span>–∞–±–æ</span></div>
          <button id="googleBtn" class="btn">–£–≤—ñ–π—Ç–∏ —á–µ—Ä–µ–∑ Google</button>

          <div class="auth-divider"><span>–∞–±–æ</span></div>
          <div class="auth-row">
            <input id="phone" type="tel" placeholder="+380 99 123 45 67" />
            <button id="sendCode" class="btn">–û—Ç—Ä–∏–º–∞—Ç–∏ SMS</button>
          </div>
          <div class="auth-row">
            <input id="smsCode" type="text" placeholder="–ö–æ–¥ –∑ SMS" />
            <button id="verifyCode" class="btn primary">–ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏</button>
          </div>

          <div id="recaptcha-container"></div>
          <div class="muted" id="authHint">–ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–æ</div>
        </div>
      </div>

      <!-- Chats list -->
      <div class="list-box">
        <div class="search">
          <input id="search" placeholder="–ü–æ—à—É–∫‚Ä¶ (Ctrl+K)" />
        </div>
        <div id="chatList" class="chat-list">
          <div class="chat-item active">
            <div class="chat-ava">G</div>
            <div>
              <div class="chat-name">Global</div>
              <div class="chat-last muted">–ó–∞–≥–∞–ª—å–Ω–∞ –∫—ñ–º–Ω–∞—Ç–∞</div>
            </div>
          </div>
        </div>
      </div>
    </aside>

    <!-- MAIN CHAT -->
    <main class="main panel">
      <div class="topbar">
        <div class="top-info">
          <div class="chat-ava big" id="activeAva">G</div>
          <div>
            <div class="chat-name" id="activeName">Global</div>
            <div class="chip" id="activeMeta">0 –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å ‚Ä¢ –æ–Ω–ª–∞–π–Ω</div>
          </div>
        </div>
        <div class="switcher">
          <label class="chip"><input type="checkbox" id="themeTgl" /> –°–≤—ñ—Ç–ª–∞ —Ç–µ–º–∞</label>
          <button id="enableSound" class="btn">–£–≤—ñ–º–∫–Ω—É—Ç–∏ –∑–≤—É–∫</button>
        </div>
      </div>

      <div class="messages" id="messages"></div>
      <div class="hint">Enter ‚Äî –Ω–∞–¥—ñ—Å–ª–∞—Ç–∏ ‚Ä¢ Shift+Enter ‚Äî –Ω–æ–≤–∏–π —Ä—è–¥–æ–∫ ‚Ä¢ –î–≤—ñ—á—ñ –∫–ª—ñ–∫ –ø–æ —Å–≤–æ—î–º—É –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—é ‚Äî —Ä–µ–¥–∞–≥—É–≤–∞—Ç–∏</div>

      <div class="composer">
        <div class="tool">
          <label class="btn" for="fileInp">üìé</label>
          <input id="fileInp" type="file" accept="image/*" />
        </div>
        <textarea id="text" placeholder="–ù–∞–ø–∏—à—ñ—Ç—å –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è‚Ä¶"></textarea>
        <button class="btn primary" id="sendBtn">–ù–∞–¥—ñ—Å–ª–∞—Ç–∏</button>
      </div>
    </main>
  </div>

  <audio id="notify" preload="auto"
    src="data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEAESsAACJWAAACABYAAAABAAAASAAAAGYAAABiZmZmZmZmZmZm"></audio>

  <script type="module" src="./app.js"></script>

</body>
</html>
